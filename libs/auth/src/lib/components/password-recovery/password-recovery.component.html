<main
  class="relative flex min-h-screen w-full flex-col items-center justify-center bg-background-light dark:bg-background-dark p-4"
>
  <!-- Logo Superior Izquierdo -->
  <div class="absolute top-4 left-4 md:top-8 md:left-8">
    <lib-logo [size]="'medium'" [variant]="'circle'" [showText]="true" />
  </div>

  <!-- Botón de Tema Superior Derecho -->
  <div class="absolute top-4 right-4 md:top-8 md:right-8">
    <lib-theme-toggle />
  </div>

  <!-- Tarjeta Central -->
  <section
    class="w-full max-w-md rounded-xl bg-white dark:bg-industrial-gray-dark p-6 md:p-8 shadow-lg"
  >
    <div class="flex w-full flex-col gap-8">
      <!-- Encabezado -->
      <header class="flex flex-col gap-2 text-center">
        <h1
          class="text-3xl font-bold tracking-tight text-industrial-gray-dark dark:text-white"
        >
          Recuperar Contraseña
        </h1>
        <p class="text-base text-industrial-gray dark:text-gray-400">
          Introduce tu correo electrónico para enviarte un enlace de
          restablecimiento.
        </p>
      </header>

      <!-- Mensaje de Éxito -->
      @if (successMessage) {
      <article
        class="p-3 bg-green-100 dark:bg-green-900/30 border border-green-400 dark:border-green-700 rounded-lg"
        role="status"
      >
        <p class="text-green-700 dark:text-green-300 text-sm">
          {{ successMessage }}
        </p>
      </article>
      }

      <!-- Mensaje de Error -->
      @if (errorMessage) {
      <article
        class="p-3 bg-red-100 dark:bg-red-900/30 border border-red-400 dark:border-red-700 rounded-lg"
        role="alert"
      >
        <p class="text-red-700 dark:text-red-300 text-sm">{{ errorMessage }}</p>
      </article>
      }

      <!-- Formulario -->
      <form
        [formGroup]="recoveryForm"
        (ngSubmit)="onSubmit()"
        class="flex w-full flex-col gap-6"
      >
        <!-- Campo de Email -->
        <lib-input-text
          formControlName="email"
          [label]="'Correo Electrónico'"
          [type]="'email'"
          [placeholder]="'ejemplo@constructora.com'"
          [icon]="'mail'"
        />

        <!-- Botón de Envío -->
        <lib-primary-button
          [type]="'submit'"
          [text]="'Restablecer Contraseña'"
          [disabled]="recoveryForm.invalid"
          [loading]="isLoading"
          [loadingText]="'Enviando...'"
        />
      </form>

      <!-- Enlace de Regreso -->
      <footer class="text-center">
        <p class="text-sm text-industrial-gray dark:text-gray-400">
          ¿Recuerdas tu contraseña?
          <a
            routerLink="/login"
            class="font-medium text-trust-blue dark:text-blue-400 underline hover:text-trust-blue/80"
          >
            Iniciar Sesión
          </a>
        </p>
      </footer>
    </div>
  </section>
</main>
